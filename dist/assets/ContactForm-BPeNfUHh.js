import{r as c,j as s,o as f,p as y,q as j,s as v,t as N}from"./index-B0SEMkCW.js";const w="7998594844:AAGtQXBF6lYtKdk7oazPnQ5T6m4-orovVss",T="7370903051",E=async e=>{const t=`https://api.telegram.org/bot${w}/sendMessage`;try{const o=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chat_id:T,text:e,parse_mode:"HTML"})});if(!o.ok)throw new Error("Failed to send message to Telegram");return await o.json()}catch(o){throw console.error("Error sending message to Telegram:",o),o}},S=async e=>{if(!e.name||!e.email||!e.phone||!e.company||!e.message||!e.csrfToken)throw new Error("Todos los campos son requeridos");const t=localStorage.getItem("csrfToken");if(!t||t!==e.csrfToken)throw new Error("Token de seguridad inv√°lido");const o=`
<b>Nuevo mensaje de contacto</b>
  
üë§ <b>Nombre:</b> ${e.name}
üìß <b>Email:</b> ${e.email}
üì± <b>Tel√©fono:</b> ${e.phone}
üè¢ <b>Empresa:</b> ${e.company}

üí¨ <b>Mensaje:</b>
${e.message}

üîí <b>Token de Seguridad:</b> ${e.csrfToken}
  `;return await E(o)},k=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),C=e=>/^\+?[\d\s-]{10,}$/.test(e),F=()=>{const e=new Uint32Array(8);return window.crypto.getRandomValues(e),Array.from(e,t=>("0"+t.toString(16)).substr(-2)).join("")},$=()=>{const e=Date.now(),t=localStorage.getItem("lastFormSubmission");return t&&e-parseInt(t)<3e4?!1:(localStorage.setItem("lastFormSubmission",e.toString()),!0)},q=()=>{if(typeof window>"u")return!0;const e=navigator.userAgent.toLowerCase();return["bot","crawler","spider","slurp","postman"].some(o=>e.includes(o))},A=()=>{const[e,t]=c.useState({name:"",email:"",phone:"",company:"",message:"",csrfToken:""}),[o,d]=c.useState(!1),[u,l]=c.useState(null),[n,g]=c.useState({});c.useEffect(()=>{const r=F();localStorage.setItem("csrfToken",r),t(a=>({...a,csrfToken:r}))},[]);const i=r=>{const{name:a,value:h}=r.target;t(m=>({...m,[a]:h})),n[a]&&g(m=>{const p={...m};return delete p[a],p})},x=()=>{const r={};return e.name.trim()?e.name.length<2&&(r.name="El nombre debe tener al menos 2 caracteres"):r.name="El nombre es requerido",e.email.trim()?k(e.email)||(r.email="Por favor ingresa un email v√°lido"):r.email="El email es requerido",e.phone.trim()?C(e.phone)||(r.phone="Por favor ingresa un tel√©fono v√°lido"):r.phone="El tel√©fono es requerido",e.company.trim()||(r.company="La empresa es requerida"),e.message.trim()?e.message.length<10&&(r.message="El mensaje debe tener al menos 10 caracteres"):r.message="El mensaje es requerido",g(r),Object.keys(r).length===0},b=async r=>{if(r.preventDefault(),q()){l("error");return}if(!$()){l("error");return}if(x()){d(!0),l(null);try{const a=localStorage.getItem("csrfToken");if(!a)throw new Error("Token de seguridad no encontrado");await S({name:e.name,email:e.email,phone:e.phone,company:e.company,message:e.message,csrfToken:a}),l("success"),t({name:"",email:"",phone:"",company:"",message:"",csrfToken:a})}catch(a){console.error("Error submitting form:",a),l("error")}finally{d(!1)}}};return s.jsx("section",{id:"contacto",className:"py-20 bg-gradient-to-b from-gray-50 to-white",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-4xl font-tektur font-bold mb-4 text-gray-800",children:"Cont√°ctanos"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"¬øListo para transformar tu negocio? D√©janos tus datos y nos pondremos en contacto contigo."})]}),s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs("form",{onSubmit:b,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(f,{className:"text-gray-400"})}),s.jsx("input",{type:"text",name:"name",value:e.name,onChange:i,placeholder:"Nombre completo",required:!0,minLength:2,className:`w-full pl-10 pr-4 py-3 border ${n.name?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors`}),n.name&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.name})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(y,{className:"text-gray-400"})}),s.jsx("input",{type:"email",name:"email",value:e.email,onChange:i,placeholder:"Correo electr√≥nico",required:!0,className:`w-full pl-10 pr-4 py-3 border ${n.email?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors`}),n.email&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.email})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(j,{className:"text-gray-400"})}),s.jsx("input",{type:"tel",name:"phone",value:e.phone,onChange:i,placeholder:"Tel√©fono",required:!0,className:`w-full pl-10 pr-4 py-3 border ${n.phone?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors`}),n.phone&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.phone})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(v,{className:"text-gray-400"})}),s.jsx("input",{type:"text",name:"company",value:e.company,onChange:i,placeholder:"Empresa",required:!0,className:`w-full pl-10 pr-4 py-3 border ${n.company?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors`}),n.company&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.company})]})]}),s.jsxs("div",{children:[s.jsx("textarea",{name:"message",value:e.message,onChange:i,placeholder:"Cu√©ntanos sobre tu proyecto",required:!0,minLength:10,rows:4,className:`w-full px-4 py-3 border ${n.message?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors`}),n.message&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.message})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("button",{type:"submit",disabled:o,className:`inline-flex items-center justify-center px-8 py-3 rounded-lg text-white font-medium transition-colors ${o?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:o?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Enviando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(N,{className:"mr-2"}),"Enviar Mensaje"]})}),s.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"* Nos pondremos en contacto contigo en un m√°ximo de 10 minutos"})]}),u==="success"&&s.jsx("div",{className:"text-center text-green-600 bg-green-100 py-3 px-4 rounded-lg",children:"¬°Mensaje enviado con √©xito! Nos pondremos en contacto contigo pronto."}),u==="error"&&s.jsx("div",{className:"text-center text-red-600 bg-red-100 py-3 px-4 rounded-lg",children:"Hubo un error al enviar el mensaje. Por favor, intenta nuevamente."})]})})]})})};export{A as default};
